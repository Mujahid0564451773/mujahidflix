<!DOCTYPE html>
<html>
<head>
<title>Mujahid Flix</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{box-sizing:border-box;}

body{
  margin:0;
  background:#141414;
  font-family:Arial, sans-serif;
  color:white;
  overflow-x:hidden;
  padding-top:80px;
}

/* NAVBAR */
.navbar{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:80px;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 20px;
  z-index:1000;
}

.logo{
  font-size:22px;
  font-weight:bold;
  color:#e50914;
  white-space:nowrap;
}

.search-container{
  display:flex;
  align-items:center;
  background:black;
  border:1px solid #444;
  border-radius:6px;
  overflow:hidden;
  max-width:500px;
  width:100%;
  margin:0 20px;
}

.search-container input{
  flex:1;
  padding:10px;
  background:transparent;
  border:none;
  color:white;
  outline:none;
}

.search-switch button{
  background:#222;
  border:none;
  color:#aaa;
  padding:8px 14px;
  cursor:pointer;
  font-size:13px;
}

.search-switch button.active{
  background:#e50914;
  color:white;
}

.clock{
  font-size:13px;
  color:#999;
  white-space:nowrap;
}

/* MOVIES */
.section{padding:40px 60px;}
.row{display:flex;gap:20px;flex-wrap:wrap;}
.movie{width:23%;cursor:pointer;}
.poster-box{aspect-ratio:16/9;overflow:hidden;border-radius:6px;}
.poster-box img{width:100%;height:100%;object-fit:cover;}
.movie-title{text-align:center;margin-top:8px;font-size:14px;color:#ddd;}

.filters button{
  background:#333;
  color:white;
  border:none;
  padding:8px 16px;
  margin-right:10px;
  border-radius:4px;
  cursor:pointer;
}
.filters button.active{background:#e50914;}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  display:none;
  justify-content:center;
  align-items:center;
}
.modal iframe{
  width:90%;
  height:85vh;
  border:none;
  border-radius:8px;
}
.close-btn{
  position:absolute;
  top:20px;
  right:30px;
  font-size:28px;
  cursor:pointer;
}

/* MOBILE */
@media(max-width:768px){
  body{padding-top:130px;}
  .navbar{flex-direction:column;height:auto;padding:15px;gap:10px;}
  .search-container{max-width:100%;}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:15px;}
  .movie{width:100%;}
}
</style>
</head>

<body>

<div class="navbar">
  <div class="logo">Mujahid Flix</div>

  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Search movies...">
    <div class="search-switch">
      <button id="movieBtn" class="active">Movies</button>
      <button id="ytBtn2">YouTube</button>
    </div>
  </div>

  <div class="clock" id="clock"></div>
</div>

<div class="section">

<div id="youtubeResults" style="display:none;">
  <h2>YouTube Results</h2>
  <div class="row" id="youtubeRow"></div>
</div>

<h2>Browse Movies</h2>

<div class="filters">
  <button class="active" onclick="filterMovies('all', this)">All</button>
  <button onclick="filterMovies('hollywood', this)">Hollywood</button>
  <button onclick="filterMovies('bollywood', this)">Bollywood</button>
</div>

<div class="row" id="movieRow"></div>
</div>

<div class="modal" id="videoModal">
<span class="close-btn" onclick="closeModal()">âœ–</span>
<iframe id="videoFrame" allowfullscreen></iframe>
</div>

<script>

/* CLOCK */
function updateClock(){
  const now=new Date();
  document.getElementById("clock").innerText=now.toLocaleString();
}
setInterval(updateClock,1000);
updateClock();

/* DATA */
const movieData=[
{title:"Black Adam",category:"hollywood",video:"https://drive.google.com/file/d/1YeVeiSnOZRsDVeULfL6dMdtY9wKrZhZ-/preview"},
{title:"Extraction 2",category:"hollywood",video:"https://drive.google.com/file/d/1NasBTxb85g6aCF3CgG19J2C6jcH1H_HW/preview"},
{title:"Bloody Daddy",category:"bollywood",video:"https://drive.google.com/file/d/1J9V45stfDO2wjDMfnkLIimCMNhTFCgSg/preview"}
];

const row=document.getElementById("movieRow");
const modal=document.getElementById("videoModal");
const frame=document.getElementById("videoFrame");

movieData.forEach(m=>{
  const card=document.createElement("div");
  card.className="movie";
  card.dataset.category=m.category;
  card.dataset.title=m.title.toLowerCase();
  card.innerHTML=`
    <div class="poster-box">
      <img src="${m.title}.jpg">
    </div>
    <div class="movie-title">${m.title}</div>
  `;
  card.onclick=()=>{
    frame.src=m.video;
    modal.style.display="flex";
  };
  row.appendChild(card);
});

function closeModal(){
  modal.style.display="none";
  frame.src="";
}

function filterMovies(cat,btn){
  document.querySelectorAll(".filters button").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
  document.querySelectorAll(".movie").forEach(m=>{
    m.style.display=(cat==="all"||m.dataset.category===cat)?"block":"none";
  });
}

/* YOUTUBE SEARCH */
let youtubeMode=false;
const API_KEY="YOUR_API_KEY_HERE";

const movieBtn=document.getElementById("movieBtn");
const ytBtn2=document.getElementById("ytBtn2");
const searchInput=document.getElementById("searchInput");
const ytBox=document.getElementById("youtubeResults");
const ytRow=document.getElementById("youtubeRow");

movieBtn.onclick=()=>{
  youtubeMode=false;
  movieBtn.classList.add("active");
  ytBtn2.classList.remove("active");
  ytBox.style.display="none";
};

ytBtn2.onclick=()=>{
  youtubeMode=true;
  ytBtn2.classList.add("active");
  movieBtn.classList.remove("active");
};

searchInput.addEventListener("input",async()=>{
  const val=searchInput.value.trim();
  if(!youtubeMode){
    document.querySelectorAll(".movie").forEach(m=>{
      m.style.display=m.dataset.title.includes(val.toLowerCase())?"block":"none";
    });
    return;
  }
  if(val.length<2)return;

  ytRow.innerHTML="";
  ytBox.style.display="block";

  const res=await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=6&q=${val}&key=${API_KEY}`);
  const data=await res.json();

  data.items?.forEach(item=>{
    const id=item.id.videoId;
    const card=document.createElement("div");
    card.className="movie";
    card.innerHTML=`
      <div class="poster-box">
        <img src="${item.snippet.thumbnails.medium.url}">
      </div>
      <div class="movie-title">${item.snippet.title}</div>
    `;
    card.onclick=()=>{
      frame.src="https://www.youtube.com/embed/"+id;
      modal.style.display="flex";
    };
    ytRow.appendChild(card);
  });
});

</script>

</body>
</html>
