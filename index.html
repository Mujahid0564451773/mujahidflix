<!DOCTYPE html>
<html>
<head>
<title>Mujahid Flix</title>

<style>
body{
  margin:0;
  background:#141414;
  font-family:Arial,sans-serif;
  color:white;
  overflow-x:hidden;
}

/* INTRO */
#intro{
  position:fixed;
  inset:0;
  background:black;
  display:none;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
#intro img{ width:500px; }

/* NAVBAR */
.navbar{
  position:fixed;
  width:100%;
  padding:15px 60px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:linear-gradient(to bottom, rgba(0,0,0,0.9), transparent);
  z-index:10;
}
.logo{
  color:#e50914;
  font-size:28px;
  font-weight:bold;
}
.search-box input{
  padding:6px 12px;
  border-radius:4px;
  border:none;
}

/* HERO */
.hero{
  position:relative;
  height:75vh;
  overflow:hidden;
}
.slide{
  position:absolute;
  width:100%;
  height:100%;
  background-size:cover;
  background-position:center;
  opacity:0;
  transition:opacity 1.5s ease-in-out;
}
.slide.active{ opacity:1; }
.hero-overlay{
  position:absolute;
  inset:0;
  background:linear-gradient(to right, rgba(0,0,0,0.85), transparent);
}
.hero-content{
  position:absolute;
  bottom:120px;
  left:60px;
}
.hero-content h1{
  font-size:50px;
  margin-bottom:15px;
}
.hero-btn{
  padding:10px 25px;
  background:#e50914;
  border:none;
  color:black;
  font-weight:bold;
  cursor:pointer;
  border-radius:4px;
}

/* SECTION */
.section{ padding:40px 60px; }

.row{
  display:flex;
  gap:20px;
  flex-wrap:wrap;
}

.movie{
  width:23%;
  cursor:pointer;
  margin-bottom:30px;
  transition:transform .3s ease;
}
.movie:hover{ transform:scale(1.05); }

.poster-box{
  width:100%;
  aspect-ratio:16/9;
  overflow:hidden;
  border-radius:8px;
}
.poster-box img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.movie-title{
  margin-top:8px;
  text-align:center;
  font-weight:bold;
  font-size:14px;
  background:#e50914;
  color:black;
  padding:6px;
  border-radius:4px;
}

/* CONTINUE WATCHING */
.continue-row{
  display:flex;
  gap:20px;
  margin-bottom:40px;
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.9);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:100;
}
.modal-content{
  width:80%;
  max-width:900px;
}
.modal iframe{
  width:100%;
  height:500px;
  border-radius:8px;
}
.close-btn{
  position:absolute;
  top:20px;
  right:40px;
  font-size:30px;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- INTRO -->
<div id="intro">
  <img src="netflix-intro.gif">
  <audio id="introSound" src="netflix-sound.mp3"></audio>
</div>

<div class="navbar">
  <div class="logo">MUJAHID FLIX</div>
  <div class="search-box">
    <input type="text" placeholder="Search..." onkeyup="searchMovies(this.value)">
  </div>
</div>

<div class="hero" id="heroSlider"></div>

<div class="section">

<h2>Continue Watching</h2>
<div class="continue-row" id="continueRow"></div>

<h2>All Movies</h2>
<div class="row" id="movieRow">

<!-- Add all your movies here exactly same structure -->
<div class="movie" data-video="https://drive.google.com/file/d/1vJZ8uIYgTuqXTeG2lsUHdiS8pZOonXFb/preview">
<div class="poster-box"><img src="Dhurandhar.gif"></div>
</div>

<div class="movie" data-video="https://drive.google.com/file/d/1hQgxWMKLdvOH6ngaZvR7TcFpH9-hGVp2/preview">
<div class="poster-box"><img src="65.gif"></div>
</div>

</div>
</div>

<!-- MODAL -->
<div class="modal" id="videoModal">
<span class="close-btn" onclick="closeModal()">✖</span>
<div class="modal-content">
<iframe id="videoFrame" src="" allowfullscreen></iframe>
</div>
</div>

<script>
const movies=document.querySelectorAll(".movie");
const hero=document.getElementById("heroSlider");
const modal=document.getElementById("videoModal");
const frame=document.getElementById("videoFrame");
const intro=document.getElementById("intro");
const introSound=document.getElementById("introSound");
const continueRow=document.getElementById("continueRow");

/* CLEAN TITLE */
function cleanTitle(name){
  return decodeURIComponent(name).replace(/\.[^/.]+$/,"");
}

/* ADD TITLES + HERO */
movies.forEach((movie,index)=>{
  const img=movie.querySelector("img").src;
  const fileName=img.substring(img.lastIndexOf("/")+1);
  const title=cleanTitle(fileName);

  const titleDiv=document.createElement("div");
  titleDiv.className="movie-title";
  titleDiv.textContent=title;
  movie.appendChild(titleDiv);

  movie.addEventListener("click",()=>playWithIntro(movie.dataset.video,img));

  /* HERO */
  const slide=document.createElement("div");
  slide.className="slide";
  if(index===0) slide.classList.add("active");
  slide.style.backgroundImage=`url('${img}')`;
  slide.innerHTML=`
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h1>${title}</h1>
    <button class="hero-btn" onclick="playWithIntro('${movie.dataset.video}','${img}')">▶ Play</button>
  </div>`;
  hero.appendChild(slide);
});

/* HERO AUTO 4 SEC */
const slides=document.querySelectorAll(".slide");
let current=0;
setInterval(()=>{
  slides[current].classList.remove("active");
  current=(current+1)%slides.length;
  slides[current].classList.add("active");
},4000);

/* PLAY WITH INTRO */
function playWithIntro(videoURL,img){
  intro.style.display="flex";
  introSound.play();

  setTimeout(()=>{
    intro.style.display="none";
    frame.src=videoURL;
    modal.style.display="flex";

    localStorage.setItem("continueMovie", img);
  },3000);
}

/* CONTINUE WATCHING */
const last=localStorage.getItem("continueMovie");
if(last){
  continueRow.innerHTML=`<div class="movie">
  <div class="poster-box"><img src="${last}"></div>
  </div>`;
}

/* SEARCH */
function searchMovies(text){
  text=text.toLowerCase();
  movies.forEach(movie=>{
    const title=movie.querySelector(".movie-title").innerText.toLowerCase();
    movie.style.display=title.includes(text)?"block":"none";
  });
}

/* CLOSE */
function closeModal(){
  modal.style.display="none";
  frame.src="";
}

/* INTRO ONLY ONCE */
window.addEventListener("load",()=>{
  if(!localStorage.getItem("introPlayed")){
    intro.style.display="flex";
    introSound.play();
    setTimeout(()=>{
      intro.style.display="none";
      localStorage.setItem("introPlayed","yes");
    },3000);
  }
});
</script>

</body>
</html>
